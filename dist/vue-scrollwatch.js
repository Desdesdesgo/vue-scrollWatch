!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("vue-scrollwatch",[],n):"object"==typeof exports?exports["vue-scrollwatch"]=n():e["vue-scrollwatch"]=n()}("undefined"!=typeof self?self:this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/dist/",n(n.s=0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),r=t.n(o),u=function(e){for(var n=0,t=e;t;)n+=t.offsetTop,t=t.offsetParent;return n},l=[.5,0,.35,1],c=!1,i=!1,a=!0,f={},s={},p={},v=null,d=document.scrollingElement,m=null,b=150,y=new Event("scroll_watch_done"),h=function(e){null!=m&&clearTimeout(m),m=setTimeout(function(){var e=d.scrollTop,n=null;if(Object.keys(s).length!=Object.keys(p).length){p={};for(var t in s)p[s[t].top]=s[t].name}var o=Object.keys(p).sort(function(e,n){return e-n}),r=o.length-1;if(!(r<=0)){var u=s[p[o[0]]].el.offsetTop;n=w(o,e+u,0,r),c?c=!1:j(f,n,o),f.el=n.el,f.name=n.name,f.top=n.top,d.dispatchEvent(y)}},b)},w=function e(n,t,o,r){if(o==r)return s[p[n[o]]];var u=Math.floor((o+r)/2),l=Number(n[u]);return l<=t&&Number(n[u+1])>t?s[p[n[u]]]:l<=t?e(n,t,u+1,r):e(n,t,o,u-1)},j=function(e,n,t){var o=t.indexOf(e.top.toString()),r=t.indexOf(n.top.toString());if(o!=r){var u=o<r?1:-1;for(o+=u;u>0?o<=r:o>=r;o+=u){var l=s[p[t[o]]];l&&l.callback&&l.callback(l)}}},x=function(e){i&&(c=!0);var n=s[e];n&&(g(n.top-u(d)),f.el=n.el,f.name=n.name,f.top=n.top)},T=function(e){return new Promise(function(n,t){i&&(c=!0);var o=s[e];o||t(e);var a=d.scrollTop,f=u(d),p=u(o.el)-f-a,m=r.a.apply(void 0,l),b=null,y=function e(t){b||(b=t);var r=t-b>=600?600:t-b,u=r/600,l=a+m(u)*(p-o.offset);g(l),r<600?v=window.requestAnimationFrame(e):n(o)};window.requestAnimationFrame(y)})},g=function(e){d.scrollTop=e},O=function(e,n,t,o){0==Object.keys(s).length&&d.addEventListener("scroll",h);var r=n.value,u=r.name,l=r.offset,i=void 0===l?0:l,v=r.callback,m=e.offsetTop-i;e.attributes.name=u,f.top||(f.el=e,f.name=u,f.top=m),a&&f.name&&f.name==u&&m-f.top!=0&&(c=!0,d.scrollTop=d.scrollTop+m-f.top),u in s&&delete p[s[u].top],s[u]={name:u,offset:i,top:m,el:e,callback:v},p[m]=u},k={};k.install=function(e){e.directive("scrollWatch",{inserted:function(e,n,t){O(e,n)},unbind:function(e,n,t){delete p[s[n.value.name].top],delete s[n.value.name],0==Object.keys(s).length&&d&&(d.removeEventListener("scroll",h),d=document.scrollingElement),cancelAnimationFrame(v)},update:function(e,n,t){O(e,n)}})};var A=function(e){i=!!e},E=function(e){if(!(d=document.querySelector(e)))throw"[vue-scrollwatch] Element '"+e+"' was not found."},P=function(e){a=!!e},_=function(e){b=e};k.currentNode=f,k.jumpTo=x,k.scrollTo=T,k.setBlockWatchOnJump=A,k.setContainer=E,k.setAdjustPositionAfterInsertion=P,k.setScrollTimerDelay=_,n.default=k},function(e,n){function t(e,n){return 1-3*n+3*e}function o(e,n){return 3*n-6*e}function r(e){return 3*e}function u(e,n,u){return((t(n,u)*e+o(n,u))*e+r(n))*e}function l(e,n,u){return 3*t(n,u)*e*e+2*o(n,u)*e+r(n)}function c(e,n,t,o,r){var l,c,i=0;do{c=n+(t-n)/2,l=u(c,o,r)-e,l>0?t=c:n=c}while(Math.abs(l)>s&&++i<p);return c}function i(e,n,t,o){for(var r=0;r<f;++r){var c=l(n,t,o);if(0===c)return n;n-=(u(n,t,o)-e)/c}return n}function a(e){return e}var f=4,s=1e-7,p=10,v=11,d=1/(v-1),m="function"==typeof Float32Array;e.exports=function(e,n,t,o){function r(n){for(var o=0,r=1,u=v-1;r!==u&&f[r]<=n;++r)o+=d;--r;var a=(n-f[r])/(f[r+1]-f[r]),s=o+a*d,p=l(s,e,t);return p>=.001?i(n,s,e,t):0===p?s:c(n,o,o+d,e,t)}if(!(0<=e&&e<=1&&0<=t&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&t===o)return a;for(var f=m?new Float32Array(v):new Array(v),s=0;s<v;++s)f[s]=u(s*d,e,t);return function(e){return 0===e?0:1===e?1:u(r(e),n,o)}}}])});
//# sourceMappingURL=vue-scrollwatch.js.map