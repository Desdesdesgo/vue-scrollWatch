!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("vue-scrollwatch",[],n):"object"==typeof exports?exports["vue-scrollwatch"]=n():e["vue-scrollwatch"]=n()}("undefined"!=typeof self?self:this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/dist/",n(n.s=0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=t.n(r),u=function(e){for(var n=0,t=e;t;)n+=t.offsetTop,t=t.offsetParent;return n},c=[.5,0,.35,1],l=!1,i=!1,f=!0,a={},s={},p={},v=null,d=document.scrollingElement,m=null,b=150,y=new Event("scroll_watch_done"),h=function(e){null!=m&&clearTimeout(m),m=setTimeout(function(){var e=d.scrollTop,n=null;if(Object.keys(s).length!=Object.keys(p).length){p={};for(var t in s)p[s[t].top]=s[t].name}var r=Object.keys(p).sort(function(e,n){return e-n}),o=r.length-1;if(!(o<=0)){var u=s[p[r[0]]].el.offsetTop;n=w(r,e+u,0,o),l?l=!1:x(a,n,r),a.el=n.el,a.name=n.name,a.top=n.top,d.dispatchEvent(y)}},b)},w=function e(n,t,r,o){if(r==o)return s[p[n[r]]];var u=Math.floor((r+o)/2),c=Number(n[u]);return c<=t&&Number(n[u+1])>t?s[p[n[u]]]:c<=t?e(n,t,u+1,o):e(n,t,r,u-1)},x=function(e,n,t){var r=t.indexOf(e.top.toString()),o=t.indexOf(n.top.toString());if(r!=o){var u=r<o?1:-1;for(r+=u;u>0?r<=o:r>=o;r+=u){var c=s[p[t[r]]];c&&c.callback&&c.callback(c)}}},g=function(e){return new Promise(function(n,t){i&&(l=!0);var r=s[e];r||t(e);var f=d.scrollTop,a=u(d),p=u(r.el)-a-f,m=o.a.apply(void 0,c),b=null,y=function e(t){b||(b=t);var o=t-b>=600?600:t-b,u=o/600,c=f+m(u)*(p-r.offset);j(c),o<600?v=window.requestAnimationFrame(e):n(r)};window.requestAnimationFrame(y)})},j=function(e){d.scrollTop=e},O=function(e,n,t,r){0==Object.keys(s).length&&d.addEventListener("scroll",h);var o=n.value,u=o.name,c=o.offset,i=void 0===c?0:c,v=o.callback,m=e.offsetTop-i;e.attributes.name=u,a.top||(a.el=e,a.name=u,a.top=m),f&&a.name&&a.name==u&&m-a.top!=0&&(l=!0,d.scrollTop=d.scrollTop+m-a.top),u in s&&delete p[s[u].top],s[u]={name:u,offset:i,top:m,el:e,callback:v},p[m]=u},T={};T.install=function(e){e.directive("scrollWatch",{inserted:function(e,n,t){O(e,n)},unbind:function(e,n,t){delete p[s[n.value.name].top],delete s[n.value.name],0==Object.keys(s).length&&d&&(d.removeEventListener("scroll",h),d=document.scrollingElement),cancelAnimationFrame(v)},update:function(e,n,t){O(e,n)}})};var k=function(e){i=!!e},A=function(e){if(!(d=document.querySelector(e)))throw"[vue-scrollwatch] Element '"+e+"' was not found."},E=function(e){f=!!e},P=function(e){b=e};T.currentNode=a,T.scrollTo=g,T.setBlockWatchOnJump=k,T.setContainer=A,T.setAdjustPositionAfterInsertion=E,T.setScrollTimerDelay=P,n.default=T},function(e,n){function t(e,n){return 1-3*n+3*e}function r(e,n){return 3*n-6*e}function o(e){return 3*e}function u(e,n,u){return((t(n,u)*e+r(n,u))*e+o(n))*e}function c(e,n,u){return 3*t(n,u)*e*e+2*r(n,u)*e+o(n)}function l(e,n,t,r,o){var c,l,i=0;do{l=n+(t-n)/2,c=u(l,r,o)-e,c>0?t=l:n=l}while(Math.abs(c)>s&&++i<p);return l}function i(e,n,t,r){for(var o=0;o<a;++o){var l=c(n,t,r);if(0===l)return n;n-=(u(n,t,r)-e)/l}return n}function f(e){return e}var a=4,s=1e-7,p=10,v=11,d=1/(v-1),m="function"==typeof Float32Array;e.exports=function(e,n,t,r){function o(n){for(var r=0,o=1,u=v-1;o!==u&&a[o]<=n;++o)r+=d;--o;var f=(n-a[o])/(a[o+1]-a[o]),s=r+f*d,p=c(s,e,t);return p>=.001?i(n,s,e,t):0===p?s:l(n,r,r+d,e,t)}if(!(0<=e&&e<=1&&0<=t&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&t===r)return f;for(var a=m?new Float32Array(v):new Array(v),s=0;s<v;++s)a[s]=u(s*d,e,t);return function(e){return 0===e?0:1===e?1:u(o(e),n,r)}}}])});
//# sourceMappingURL=vue-scrollwatch.js.map