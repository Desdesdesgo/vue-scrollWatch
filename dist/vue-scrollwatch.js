!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("vue-scrollwatch",[],n):"object"==typeof exports?exports["vue-scrollwatch"]=n():e["vue-scrollwatch"]=n()}("undefined"!=typeof self?self:this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/dist/",n(n.s=0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=t.n(r),u=function(){function e(e,n){var t=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(e){for(var n=0,t=e;t;)n+=t.offsetTop,t=t.offsetParent;return n},a=[.5,0,.35,1],c=!1,l=!1,f={},s={},p={},v=null,m=document.scrollingElement,d=null,y=150,b=new Event("scroll_watch_done"),h=function(e){null!=d&&clearTimeout(d),d=setTimeout(function(){var e=w(),n=u(e,2),t=n[0],r=n[1];c?c=!1:g(f,t,r),f.el=t.el,f.name=t.name,f.top=t.top,m.dispatchEvent(b)},y)},w=function(){var e=m.scrollTop;if(Object.keys(s).length!=Object.keys(p).length){p={};for(var n in s)p[s[n].top]=s[n].name}var t=Object.keys(p).sort(function(e,n){return e-n}),r=t.length-1;if(!(r<=0)){var o=s[p[t[0]]].el.offsetTop;return[x(t,e+o,0,r),t]}},x=function e(n,t,r,o){if(r==o)return s[p[n[r]]];var u=Math.floor((r+o)/2),i=Number(n[u]);return i<=t&&Number(n[u+1])>t?s[p[n[u]]]:i<=t?e(n,t,u+1,o):e(n,t,r,u-1)},g=function(e,n,t){var r=t.indexOf(e.top.toString()),o=t.indexOf(n.top.toString());if(r!=o){var u=r<o?1:-1;for(r+=u;u>0?r<=o:r>=o;r+=u){var i=s[p[t[r]]];i&&i.callback&&i.callback(i)}}},j=function(e){l&&(c=!0);var n=s[e];n&&(T(n.top-i(m)),f.el=n.el,f.name=n.name,f.top=n.top)},O=function(e){return new Promise(function(n,t){l&&(c=!0);var r=s[e];r||t(e);var u=m.scrollTop,f=i(m),p=i(r.el)-f-u,d=o.a.apply(void 0,a),y=null,b=function t(o){y||(y=o);var i=o-y>=600?600:o-y,a=i/600,c=u+d(a)*(p-r.offset);T(c),i<600?v=window.requestAnimationFrame(t):(j(e),n(r))};window.requestAnimationFrame(b)})},T=function(e){m.scrollTop=e},k=function(e,n,t,r){0==Object.keys(s).length&&m.addEventListener("scroll",h);var o=n.value,u=o.name,i=o.offset,a=void 0===i?0:i,c=o.callback,l=e.offsetTop-a;if(e.attributes.name=u,f.top||(f.el=e,f.name=u,f.top=l),f.name){var v=w();v=v&&v[0].name,f.name!=v&&j(f.name)}u in s&&delete p[s[u].top],s[u]={name:u,offset:a,top:l,el:e,callback:c},p[l]=u},E={};E.install=function(e){e.directive("scrollWatch",{inserted:function(e,n,t){k(e,n)},unbind:function(e,n,t){delete p[s[n.value.name].top],delete s[n.value.name],0==Object.keys(s).length&&m&&(m.removeEventListener("scroll",h),m=document.scrollingElement),cancelAnimationFrame(v)},update:function(e,n,t){k(e,n)}})};var A=function(e){l=!!e},S=function(e){if(!(m=document.querySelector(e)))throw"[vue-scrollwatch] Element '"+e+"' was not found."},_=function(e){y=e};E.currentNode=f,E.jumpTo=j,E.scrollTo=O,E.setBlockWatchOnJump=A,E.setContainer=S,E.setScrollTimerDelay=_,n.default=E},function(e,n){function t(e,n){return 1-3*n+3*e}function r(e,n){return 3*n-6*e}function o(e){return 3*e}function u(e,n,u){return((t(n,u)*e+r(n,u))*e+o(n))*e}function i(e,n,u){return 3*t(n,u)*e*e+2*r(n,u)*e+o(n)}function a(e,n,t,r,o){var i,a,c=0;do{a=n+(t-n)/2,i=u(a,r,o)-e,i>0?t=a:n=a}while(Math.abs(i)>s&&++c<p);return a}function c(e,n,t,r){for(var o=0;o<f;++o){var a=i(n,t,r);if(0===a)return n;n-=(u(n,t,r)-e)/a}return n}function l(e){return e}var f=4,s=1e-7,p=10,v=11,m=1/(v-1),d="function"==typeof Float32Array;e.exports=function(e,n,t,r){function o(n){for(var r=0,o=1,u=v-1;o!==u&&f[o]<=n;++o)r+=m;--o;var l=(n-f[o])/(f[o+1]-f[o]),s=r+l*m,p=i(s,e,t);return p>=.001?c(n,s,e,t):0===p?s:a(n,r,r+m,e,t)}if(!(0<=e&&e<=1&&0<=t&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&t===r)return l;for(var f=d?new Float32Array(v):new Array(v),s=0;s<v;++s)f[s]=u(s*m,e,t);return function(e){return 0===e?0:1===e?1:u(o(e),n,r)}}}])});
//# sourceMappingURL=vue-scrollwatch.js.map