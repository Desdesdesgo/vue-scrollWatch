!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("vue-scrollwatch",[],n):"object"==typeof exports?exports["vue-scrollwatch"]=n():e["vue-scrollwatch"]=n()}("undefined"!=typeof self?self:this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/dist/",n(n.s=0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=t.n(r),u=function(e){for(var n=0,t=e;t;)n+=t.offsetTop,t=t.offsetParent;return n},l=[.5,0,.35,1],c={},i={},a={},f=null,s=document.scrollingElement,p=u(s),d=null,v=150,m=new Event("scroll_watch_done"),b=function(){null!=d&&clearTimeout(d),d=setTimeout(function(){var e=s.scrollTop,n=null;if(Object.keys(i).length!=Object.keys(a).length){a={};for(var t in i)a[i[t].top]=i[t].name}var r=Object.keys(a).sort(function(e,n){return e-n}),o=r.length-1;if(!(o<=0)){var u=i[a[r[0]]].el.offsetTop;n=y(r,e+u,0,o),h(c,n,r),c.el=n.el,c.name=n.name,c.top=n.top,s.dispatchEvent(m)}},v)},y=function e(n,t,r,o){if(r==o)return i[a[n[r]]];var u=Math.floor((r+o)/2),l=Number(n[u]);return l<=t&&Number(n[u+1])>t?i[a[n[u]]]:l<=t?e(n,t,u+1,o):e(n,t,r,u-1)},h=function(e,n,t){for(var r=t.indexOf(e.top.toString()),o=t.indexOf(n.top.toString()),u=r<o?1:-1;u>0?r<=o:r>=o;r+=u){var l=i[a[t[r]]];l&&l.callback&&l.callback(l)}},w=function(e){return new Promise(function(n,t){var r=i[e];r||t(e);var c=s.scrollTop,a=u(r.el)-p-c,d=o.a.apply(void 0,l),v=null,m=function e(t){v||(v=t);var o=t-v>=600?600:t-v,u=o/600,l=c+d(u)*(a-r.offset);x(l),o<600?f=window.requestAnimationFrame(e):n(r)};window.requestAnimationFrame(m)})},x=function(e){s.scrollTop=e},g=function(e){if(!(s=document.querySelector(e)))throw"[vue-scrollwatch] Element '"+e+"' was not found.";p=u(s)},T=function(e){v=e},j=function(e,n,t){0==Object.keys(i).length&&s.addEventListener("scroll",b);var r=n.value,o=r.name,u=r.offset,l=void 0===u?0:u,f=r.callback,p=e.offsetTop-l;e.attributes.name=o,c.top||(c.el=e,c.name=o,c.top=p),c.name&&c.name==o&&(s.scrollTop=s.scrollTop+p-c.top),o in i&&delete a[i[o].top],i[o]={name:o,offset:l,top:p,el:e,callback:f},a[p]=o},O={};O.install=function(e){e.directive("scrollWatch",{inserted:function(e,n,t){j(e,n)},unbind:function(e,n,t){delete a[i[n.value.name].top],delete i[n.value.name],0==Object.keys(i).length&&s&&(s.removeEventListener("scroll",b),s=document.scrollingElement,p=u(s)),cancelAnimationFrame(f)},update:function(e,n,t){j(e,n)}})},O.currentNode=c,O.scrollTo=w,O.setContainer=g,O.setScrollTimerDelay=T,n.default=O},function(e,n){function t(e,n){return 1-3*n+3*e}function r(e,n){return 3*n-6*e}function o(e){return 3*e}function u(e,n,u){return((t(n,u)*e+r(n,u))*e+o(n))*e}function l(e,n,u){return 3*t(n,u)*e*e+2*r(n,u)*e+o(n)}function c(e,n,t,r,o){var l,c,i=0;do{c=n+(t-n)/2,l=u(c,r,o)-e,l>0?t=c:n=c}while(Math.abs(l)>s&&++i<p);return c}function i(e,n,t,r){for(var o=0;o<f;++o){var c=l(n,t,r);if(0===c)return n;n-=(u(n,t,r)-e)/c}return n}function a(e){return e}var f=4,s=1e-7,p=10,d=11,v=1/(d-1),m="function"==typeof Float32Array;e.exports=function(e,n,t,r){function o(n){for(var r=0,o=1,u=d-1;o!==u&&f[o]<=n;++o)r+=v;--o;var a=(n-f[o])/(f[o+1]-f[o]),s=r+a*v,p=l(s,e,t);return p>=.001?i(n,s,e,t):0===p?s:c(n,r,r+v,e,t)}if(!(0<=e&&e<=1&&0<=t&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&t===r)return a;for(var f=m?new Float32Array(d):new Array(d),s=0;s<d;++s)f[s]=u(s*v,e,t);return function(e){return 0===e?0:1===e?1:u(o(e),n,r)}}}])});
//# sourceMappingURL=vue-scrollwatch.js.map